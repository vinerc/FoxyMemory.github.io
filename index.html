<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoxyMemory Web - Escalonável</title>
    <style>
        /* ⬇️ AJUSTE AQUI O TAMANHO DE TUDO ⬇️ */
        :root {
            --fator-escala: 1.8; /* Mude para 1, 1.5, 2, 2.5, etc. */
            
            /* Cálculos automáticos baseados no fator */
            --tamanho-quadrado: calc(120px * var(--fator-escala));
            --tamanho-miniatura: calc(34px * var(--fator-escala)); 
            --gap-tabuleiro: calc(10px * var(--fator-escala));
            --borda-quadrado: calc(2px * var(--fator-escala));
        }

        body { font-family: 'Helvetica', sans-serif; background-color: #f0f0f0; display: flex; flex-direction: column; align-items: center; }
        
        .header { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin: 20px; display: flex; gap: 15px; align-items: center; }
        .round-label { font-size: 1.2rem; font-weight: bold; margin-left: auto; }
        
        /* Tabuleiro escalonável */
        .board { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: var(--gap-tabuleiro); 
            background: #ddd; 
            padding: var(--gap-tabuleiro); 
            border-radius: 4px; 
        }
        
        /* Quadrado principal escalonável */
        .square {
            width: var(--tamanho-quadrado); 
            height: var(--tamanho-quadrado);
            background: white; 
            border: var(--borda-quadrado) solid black;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden; position: relative;
        }

        /* Grid de Miniaturas */
        .options-grid { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: calc(2px * var(--fator-escala)); 
            padding: calc(2px * var(--fator-escala)); 
        }
        
        .thumb-btn {
            width: var(--tamanho-miniatura); 
            height: var(--tamanho-miniatura);
            border: 1px solid #ccc; cursor: pointer;
            background-size: cover; background-position: center;
            padding: 0; background-color: white;
        }

        .thumb-btn:hover { border-color: #000; }
        .thumb-btn.disabled { display: none; }

        .full-img { width: 100%; height: 100%; object-fit: cover; }
        button { cursor: pointer; padding: 8px 16px; font-size: 1rem; }
    </style>
</head>
<body>

    <div class="header">
        <button onclick="iniciarJogo()">Iniciar</button>
        <button onclick="proximoRound()">Próximo Round</button>
        <label>
            <input type="checkbox" id="chkLimitar" checked> Limitar cores por round
        </label>
        <div class="round-label" id="roundLabel">Round: 1/7</div>
    </div>

    <div class="board" id="board"></div>

    <script>
        let currentRound = 1;
        let selectedColors = new Set();
        const limitesPorRound = {1: 2, 2: 2, 3: 3, 4: 3, 5: 4, 6: 4, 7: 5};
        
        // Caminhos das imagens (ajustado para o "I" maiúsculo que você mencionou)
        const imagePaths = [
            'Imagem1.png', 'Imagem2.png', 'Imagem3.png', 
            'Imagem4.png', 'Imagem5.png', 'Imagem6.png'
        ];

        function createBoard() {
            const board = document.getElementById('board');
            board.innerHTML = '';
            
            for (let i = 0; i < 12; i++) {
                const square = document.createElement('div');
                square.className = 'square';
                
                const optionsGrid = document.createElement('div');
                optionsGrid.className = 'options-grid';
                
                imagePaths.forEach((path, imgIdx) => {
                    const btn = document.createElement('button');
                    btn.className = 'thumb-btn';
                    btn.style.backgroundImage = `url('${path}')`;
                    btn.onclick = () => selecionarImagem(square, imgIdx);
                    
                    if (document.getElementById('chkLimitar').checked) {
                        const limite = limitesPorRound[currentRound];
                        if (selectedColors.size >= limite && !selectedColors.has(imgIdx)) {
                            btn.classList.add('disabled');
                        }
                    }
                    optionsGrid.appendChild(btn);
                });
                
                square.appendChild(optionsGrid);
                board.appendChild(square);
            }
        }

        function selecionarImagem(square, imgIdx) {
            square.innerHTML = '';
            const img = document.createElement('img');
            img.src = imagePaths[imgIdx];
            img.className = 'full-img';
            square.appendChild(img);
            selectedColors.add(imgIdx);
            verificarLimites();
        }

        function verificarLimites() {
            if (!document.getElementById('chkLimitar').checked) return;
            const limite = limitesPorRound[currentRound];
            if (selectedColors.size >= limite) {
                const todosBotoes = document.querySelectorAll('.thumb-btn');
                todosBotoes.forEach(btn => {
                    const bgImg = btn.style.backgroundImage;
                    const idx = imagePaths.findIndex(path => bgImg.includes(path));
                    if (idx !== -1 && !selectedColors.has(idx)) {
                        btn.classList.add('disabled');
                    }
                });
            }
        }

        function iniciarJogo() {
            currentRound = 1;
            selectedColors.clear();
            document.getElementById('roundLabel').innerText = `Round: ${currentRound}/7`;
            createBoard();
        }

        function proximoRound() {
            if (currentRound < 7) {
                currentRound++;
                selectedColors.clear();
                document.getElementById('roundLabel').innerText = `Round: ${currentRound}/7`;
                createBoard();
            } else {
                document.getElementById('roundLabel').innerText = "Fim de Jogo!";
            }
        }

        createBoard();
    </script>
</body>
</html>
